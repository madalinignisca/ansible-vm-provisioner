---

### VM

vm_box: "ubuntu/xenial64"
vm_hostname: "small.vm"
vm_memory: 1024
vm_cpus: 1

vagrant_synced_folders: []

### SWAP

swapfile_swappiness: 10
swapfile_vfs_cache_pressure: 50

### Firewall

firewall_allowed_tcp_ports:
  - "22"
  - "80"
  - "443"

### Apache HTTPD

apache_mods_enabled:
  - rewrite.load
  - ssl.load
  - mpm_event.load
apache_mods_disabled:
  - mpm_prefork.load

apache_vhost_php_fpm_parameters: |
  <FilesMatch \.php$>
    SetHandler "proxy:fcgi://{{ php_fpm_listen }}"
  </FilesMatch>

### PHP

php_expose_php: "Off"
php_max_execution_time: "180"
php_max_input_vars: "8192"
php_date_timezone: "UTC"
php_output_buffering: "Off"

# Set this to false if you're not using PHP with Apache/Nginx/etc.
php_enable_webserver: true

# PHP-FPM configuration.
php_enable_php_fpm: true
php_fpm_listen: "127.0.0.1:9000"
php_fpm_listen_allowed_clients: "127.0.0.1"
php_fpm_pm_max_children: 2
php_fpm_pm_start_servers: 1
php_fpm_pm_min_spare_servers: 1
php_fpm_pm_max_spare_servers: 2

### MySQL

# Memory settings (default values optimized ~128MB RAM).
mysql_key_buffer_size: "64M"
mysql_max_allowed_packet: "16M"
mysql_table_open_cache: "64"
mysql_sort_buffer_size: "1M"
mysql_read_buffer_size: "1M"
mysql_read_rnd_buffer_size: "1M"
mysql_myisam_sort_buffer_size: "8M"
mysql_thread_cache_size: "1"
mysql_query_cache_size: "16M"
mysql_query_cache_limit: "1M"
mysql_max_connections: "64"
mysql_tmp_table_size: "16M"
mysql_max_heap_table_size: "16M"

# Set .._buffer_pool_size up to 80% of RAM but beware of setting too high.
mysql_innodb_buffer_pool_size: "64M"

# Replication settings (replication is only enabled if master/user have values).
mysql_max_binlog_size: "10M"
mysql_expire_logs_days: "7"

# Set this to the user ansible is logging in as - should have root
# or sudo access
mysql_user_home: /home/ubuntu
mysql_user_name: ubuntu
mysql_user_password: ubuntu

# The default root user installed by mysql - almost always root
mysql_root_home: /root
mysql_root_username: root
mysql_root_password: root

# Set this to `yes` to forcibly update the root password.
mysql_root_password_update: yes
mysql_user_password_update: yes